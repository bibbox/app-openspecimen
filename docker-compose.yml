version: '2'
services:

  openspecimen-gradle-DEV:
    image: bibbox/openspecimen-gradle
    container_name: openspecimen-gradle-DEV
    environment:
      - INSTANCE=DEV
    volumes_from: 
      - openspecimen-data-DEV

  openspecimen-web-DEV:
    image: bibbox/openspecimen-application
    container_name: openspecimen-web-DEV
    links:
      - openspecimen-db-DEV:openspecimen-db-DEV
    ports:
      - "8098:8080"
    environment:
      - INSTANCE=DEV
    depends_on:
      - openspecimen-db-DEV
      - openspecimen-data-DEV
      - openspecimen-gradle-DEV
    volumes_from: 
      - openspecimen-data-DEV

  openspecimen-db-DEV:
    image: mysql
    container_name: openspecimen-db-DEV
    environment:
      - MYSQL_ROOT_PASSWORD=openspecimen
      - MYSQL_DATABASE=openspecimen
      - MYSQL_USER=openspecimen
      - MYSQL_PASSWORD=openspecimen
    volumes_from: 
      - openspecimen-data-DEV
    depends_on:
      - openspecimen-data-DEV

  openspecimen-data-DEV:
    image: busybox
    container_name: openspecimen-data-DEV
    volumes:
      - /Users/reihsr/Documents/BiBBox/docker/app-openspecimen/config/openspecimen.cnf:/etc/mysql/conf.d/openspecimen.cnf
      - /Users/reihsr/Documents/BiBBox/docker_test_run/openspecimen/dist:/opt/dist